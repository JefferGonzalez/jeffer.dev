---
import ProjectCard from '@components/ProjectCard.astro'
import CodeIcon from '@components/icons/Code.astro'
import { getLangFromUrl, useTranslations } from '@i18n/utils'
import { getEntry } from 'astro:content'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
const { data } = await getEntry('projects', lang)
---

<section id="projects">
  <h2
    class="text-3xl font-semibold flex gap-x-3 justify-center items-center my-4"
  >
    <CodeIcon />
    {t('projects')}
  </h2>

  <div class="flex flex-col gap-8 m-6">
    {data.map((project) => <ProjectCard project={project} />)}
  </div>
</section>
